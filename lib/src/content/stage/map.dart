import 'dart:math' as math;

import 'package:piecemeal/piecemeal.dart';

import '../../engine/stage/stage.dart';
import '../tiles.dart';

class World {
  final Stage stage;

  World(this.stage);

  void buildStage(Function(Vec) placeUnit) {
    for (var pos in stage.bounds) {
      var i = pos.x + pos.y * stage.width;

      switch (map.codeUnitAt(i)) {
        case 79:
          stage[pos].type = Tiles.openOcean;
          break;
        case 68:
          stage[pos].type = Tiles.ocean;
          break;
        case 83:
          stage[pos].type = Tiles.shallow;
          break;
        case 72:
          stage[pos].type = Tiles.shore;
          break;
        case 66:
          stage[pos].type = Tiles.beach;
          break;
        case 71:
          stage[pos].type = Tiles.plains;
          break;
        case 70:
          stage[pos].type = Tiles.forest;
          break;
        case 77:
          stage[pos].type = Tiles.mountain;
          break;
      }
    }

    placeUnit(stage.bounds.center);
  }

  final String map = 'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSDDDDDOODDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSSDDDOODDDOOOOOOOOOOOOOOOODOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSSSSSDDDDDDDDOOOOOOOOOOOOOODDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODSSSHHHHSSSDDDDDDDDOODDDDOOOOODDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSHHHHHHSSSSSSSDDDDDDDDDDDOODDDDDDDDDODOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDSSHHHHHHHHHHSSSSSSDDDDDDDDDDDDDDSSSDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDSSSHHBHHHHHHHHSSSSSSDDSSSDDDSSSDDSSSSSSDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODSSSSSHHBBBBHHSSSSSSHHHSSSSSSSDDSSSSSSSSSSDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODSSSSSSHBBBBHHSSSSSSHHHHSSSSSSDDSSSSSSHHSSDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODSSSSSHHBBBBHHHSSSSHHHHHSSSSSSSSSSSSSSSSSDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSSSHHBBBHHHHSSSHHHHHHHSSSSSSSSSSSSSSSDDDDOOOODDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSSSHHBBGBBHHSSSSHHHHHHHHHSSSSSSSSSSDDDDDDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSHHHHHBBGGBBHHHHSSHHHHHHHHHHSSSHSSSSSDDDDDDDDDDDODDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDSSHBBBBBBGGGGBHHHHHHHHHHHHBBBHHHHHHHSSSDDOOOODDDDDDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSSHHBBBBBBGGGGBBHBBHHHHHBBBBBBHHHHHHHHSSDDOOOODDDDDDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSHHHBBGGBBGGGGGBBBBBBHHHBBBBBBBBHHHHHHHHSSDOODDDDDDDDSSDOOOOOOOOOOOOOOOOOOOOOOOOOOOODDOODDDSSHHHBBGGGGGGGGGGGBBBBBHHBBBBBGGBBBBHHHHHHHSDOODDDDODDDSSDDOOOOOOOOOOOOOOOOOOOOOOOODDDDDDDDDSSSHHHBBGGFGGGGGGGGBBBBBHHBBBBBGGGGBBBHHHHHHSDODDDOOOODDDDDDOOOOOOOOOOOOOOOOOOOOOOOODDDSSDDDSSSHHBBBGGFFFGGBGGGGGGGBBBBBBBBBGGFGBHHHBHHHSSDODDDDDDDDDDDSSDOOOOOOOOOOOOOOOOOOOOOOODDSSSSSSSSHHHBBGGGFFFGGBBGGGGGGGBBBBBBBBGGFGBBBBBHHHSSDDDDDDDDDDDDSSSDDOOOOOOOOOOOOOOOOOOOOOODSSHSSSSSSHHHBBGGGGFFGGGGGGGFFFGGGGGBBBBBGGGGBBBBHHHHSSDDDSSSDDDDDSSSSDOOOOOOOOOOOOOOOOOOOOODDSHHSSSHHHHHHBBGGGGGGFFGGGGFFFFFGGGGBBBBBBGGGGGBBHHHHHSSSSSSSDDDDSSSSSSDOOOOOOOOOOOOOOOOOOOODSSHHSSSHHHHHHBBGGGGGFFFFGGFFFFFFFGGGBBBBBBGGGGGGBBBBBHHHHSSSSDDDDDSSSSSDDOOOOOOOOOOOOOODDDDDDSSSSSSSHHHHBBBBBGGFFFFFFGGFFFFFFGBBBBBBHBBGGGFFFGGGGBBBHHHHHSDDDDDDDSSSSSDDOOOOOOOOOOOODDDDDDSSSSSSSHHHBBBBBBGGFFFFFFFFFFFFGGGBBBBBBBBGFFFFFFFFGGGGBBBBBHHSDDDDDDDDSSSSDDOOOOOOOOOOOODDDDDSSHHSSSHHHBBBBBGGFFFFFFFFFFFFFGGBBBBBBBBGGFFFFFFFFFGGGGGGGBBHHSDDDDODDDSSSDDDOOOOOOOOOOODDDDDSSHHHHHHHHBBBBBGGFFFFFFFMMMFFFGBBBBBBBBGGFMMMMMFFFFFFGGGGGBBBHSDDDDOODDDDDDDDDOOOOOOOOODDDDDDSSHHHHHHHHBBBBBGGFFFFMMMMMMMFFGGGGGGGBGGFFMMMMMMMMMFFFGGGGGBBBHSSDDDDDDDDDDDDDDOOOOOOOODDDSDDSSHHHBBHHHBBBBGGFFFFFMMMMMMMMMFGGGGGGGGFFMMMMMMMMMMMFFFGGGGGGBBHSSDDDDDDDDDDDDDOOOOOOOOODDSDDSSSHHBBBBBBBBGGFFFFFMMMMMMMMMMFFGGGGFFFFFMMMMMMMMMMMFFFGGGGGGGBBHSSDSSSDDDDDDDDOOOOOOOOODDDDDSSSHHBBBBBBBBGGFFFFFMMMMMMMMMMMFFFFFMMMMMMMMMMMMMMMFFFFFGGGGGBBBHSSSSHSSDDDDDDOOOOOOOOODDDSSSSSSHHBBBBBBHBBGFFFFFMMMMMMMMMMMMFFMMMMMFFMMMMMMMMMFFFFFFGGGGBBBHHHHHHHHSSSDDDDOOOOOOOODDDSSSSSSHHHBBBBBHHBBGFFFFFMMMMMMMMMMMMMMMMMMMMFMMMMMMMMMFFFGGGGGGGGBBHHHHHHHHHSSSDDOOOOOOOOODDSSSSSSHHHBBBBBHHHBBGFFFFMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMFFGGGGGGGGGGGBBBBBBHHHHHSSDOOOOOOOOODDDSSHHHHHHHBBHHHHHBBGGFFFFMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMFFGGGGGFFFFFGGGGGBBHHHHHSDOOOOOOOOOODDSHHHHHHHHHBBBHHBBBGGFFFFMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMFFGGGGGFFFFMFFGGGGBBHHHHHSDOOOOOOOOODDSHHBBBHHHHHBBBBBBBGGFFMMMMMMMMMMMMMMMMMMMMMMMMFFMMMMMMMFGGGGGGFFMMMMFFFGGBBHHHHHSDOOOOOOOODDSHHBBBBBHHHHBBBGGGGGGFFMMMMMMMMMMMMMMMMMMMMMMMFFFMMMMMMMFFGGGGGFMMMMMMMFFGGBHHHHHHSDDDDDDOODDSHHHBBBBHHHHBBGGGGGGFFMMMMMMMMMMMMMMMMMMMMMMMFFFFMMMMMMMMFFFFFFMMMMMMMMMFFGBBBBBBHSSDDDSDDODDSHHHHHHHHHHHBBGGGGGGFFMMMMMMMMMMMMMMMMMMMMMMMFFFMMMMMMMMMMFFFFFMMMMMMMMMMFFGBBBBHHHSSSSSSDODDSHHHHHHHHSHHBBBGGGGFFMMMMMMMMMMMMMMMMMMMMMMMMFFMMMMMMMMMMMFFFFFMMMMMMMMMMMFGGGBBHHHSSSSSSDODDSSHSHHHHSSSHBBBGGGGFFMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMFFGFFMMMMMMMMMMMFFGGBBHHHHHHHHSDOODDSSSSSSSSSSHBBGGGGGFFFMMMMFFFFMMMMMMMMMMMMMMMMMMMMMMMMMMMMFFFFFMMMMMMMMMMMFFGGBBBBHHHHHSSDOOODDSSSSSSDDSHBBGGFGGGFFFFFFFFFFFMMMMMMMMMMMMMMMMMMMMMMMMMFFFFFFFMMMMMMMMMMFFGGGBBBBBBBHHSSDOOOODDDDDDDDDSHHBGGFGGGFFFFFFFFFFFMMMMMMMMMMMMMMMMMMMMMMMMMFFFFFFFMMMMMMMMMMFFGBBGBBBBBBHHSSDOOOOOOOOOOOODSHHBGFFFGFFFFFFFFFGGFFMMMMMMMMMMMMMMMMMMMMMMMMFFFFFFMMMMMMMMMMMFGGBGGBBBBBHHHSSDOOOOOOOOOOOODSHBGGFFFFFFFFFFFFGGGGFMMMMMMMMMMMMMMMMMMMMMMMMMFFFFFMMMMMMMFFFFFFGGGGBBBBHHSSSSDOOOOOOOOOOOODSHBGFFFFFFFFFFFFGGGGGFMMMMMMMMMMMMMMMMMMMMMMMMMFFFFMMMMMMMMFFMFFGGBBBBBBBHHSSSSDOOOOOOOOOOOODSHBGFFFFFFFFFFFFGGGGGFFMMMMMMMMMMMMMMMMMMMMMMMMFFFFFMMMMMMMFMMMFGBBBBBHHHHSDDDDDOOOOOOOOOOOODSHBGFFFFFFFFFFFFGGGGGFMMMMMMMMMMMMMMMMMMMMMMMMMFFFFFFFFFMMMMMMMFGBBHHHSSSSDOOOOOOOOOOOOOOOODDSHBBGFFFFFFFFFFFFGGFFFMMMMMMMMMMMMMMMMMMMMMMFFFGGGGFFFFFMMMFMMMFGBBBHHSSSDDDOOOOOOOOOOOOOODDDSHHBGGFFFFFFFFFFFFFFFMMMMMMMMMMMMMMMMMMMMMFFFGGGGGGFFFFMMMMFMMFFGBBBHHHSSDDDOOOOOOOOOOOOOODDSHHBBGGFFFFFFFFFFFGFFFMMMMMMMMMMMMMMMMMMMMFFFGGGGGGGGFFFFFMMFFFFGGBBBHHHSSDDDDOODDOOOOOOOOODSSHHBBBGGFFFFFFFFFGGGFFMMMMMMMMMMMMMMMMMMMFFFGGGGGGGGGFFFFFMMFFFGGBBBBHSSSSSDDDDDDDOOOOOOOODDSHHHBBBBGGGFFFFFFFGGGFFMMMMMMMMMMMMMMMMMMMFFGGGGGGGGGGGFFFFMMFFGGGBBBHHSSSSSDDDDDOOOOOOOOOODSHHHHHHHBBGGFFFFFFFGGGGFFMMMMMMMMMMMMMMMMMFGGGGGGGGGGGGGFFFFFMFGGGGBBBHHSSSSSDDDOOOOOOOOOOOODSSHHHHHHHBBGGGFFFFGGGGGGGFMMMMMMMMMMMMMMMMFGGGGGGGGGGGGGFFFFFFFFGGBBHHHHSSDDDDDOOOOOOOOOOOOODDSSSHHHHHBBBBBGGGGGGGGGGGFFMMMMMMFMMMMMMMMFGGGGGGGGGGGGGFFGGFFFFGGBBHSSSSSDDDDOOOOOOOOOOOOOODSSSSHHHHHHHHHBBBGGGGGGBGGFFMMMMMMFMMMMMMMMFGGGGGGGGGGGGGFGGGGFFGGGBHHSSSDDDOOOOOOOOOOOOOOOODDSSSSHHHHHHHHHHBBBGGGGBBGGFFMMMMMFFMMMMMMMMMGGGGGGGGGGGGGGGGGGGGGGBBHSSDDDDDOOOOOOOOOOOOOOOODDSSSHHHHHHHHHHHHBBBGGGBBGFFFFFFFFFFMMMMMMMMMFGGGGGGGGGGGGGGGFGGGGGBBHSSDDDDDOOOOOOOOOOOOOOOODDSSSSSHHHHHHHSSHHBBGGGBBGGFFFFFFFFFFMMMMMMMMFFGGGGBBBBBGGGGGGGGGGGBBHSSDDDDDOOOOOOOOOOOOOOOODDDDDSSSHHHHHHSSSHBBGGBBBBBGFFFFFFFMMMMMMMMMMFFGGGBBBHHHBBBBBBBBBGGGBHHSSDDDDDDOOOOOOOOOOOOOODDDDDDSSSSSSSSSSSSHBBBBHHHBBGGGFFFMMMMMMMMMMMFGGBBBBHHSSHHHHHHBBBBBBHSSDDDDDDDOOOOOOOOOOOOOODDDDDDDSDDDSDDDSSSSHHBHHHHHHBBBGGFFFMMMMMMMMMFFGBBBBBHSSSSSSSSSHHHHHHSSDDOOODDOOOOOOOOOOOOOOODDDDDSSSDDDDDDDSSDSSHHHHHHHHHBBBGGFFFMMMMMMMFFGGBBBHHHSSSSSSDDSHHHHHSSDDOOOODOOOOOOOOOOOOOOOODDDDDDSDDDDDDDDDDDDDSHHHHHHHHHBBGGFFFFFMMMMMFGGBBBHHHSSSSSSDDDSSSSSSSSDDOOODDDOOOOOOOOOOOOOOOODDDDDSDDOODOOODDDDDSSHHHHHHHHHBBGGFFFFFFFFFGGBBHHHHSSSSSSDDDDDSSSSSSDDOOOOODOOOOOOOOOOOOOOOOODDDDDSDDOOOOOOOOOOODSHHHHHHSSHHBBGGFFFFGGGGGGGBHHHHSSSSSSSSDDDSSDDDDDDOOOOOOOOOOOOOOOOOOOOOOOOODDSSSDOOOOOOOOOODDSHHHHSSSSSHBBBGGGGGGGGGGGGBHHHSSSSSSSSSSSDSSSSDDDDOOOOOOOOOOOOOOOOOOOOOOOOODDSSSDOOOOOOOOOODDSHHHSSSSSSHHBBBBBBBBBBBBBBBHSSSSSSDSSSHSSSSSSSDDDDOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDOOOOOOOOODDDSSSSSHSSSHHHHHHHHBBBBBBBBBBHHSSSDDDDSSSSSSSSSSDDDDOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDOOOOOOODDDDDDSSSHHHHHHHHSHHHHHBBBBBBBBBHHHSSDDDDSSSSSSSSSSDDDDDDOOOOOOOOOOOOOOOOOOOOOOODDDDDDOOOOOOODDDDDDSSSHHBHHHHHSSHHHHHHHHHBBBHHHHHSDDDDDSSSHHHSSSDDDDDDOOOOOOOOOOOOOOOOOOOOOODDDDOOOOOOOOOODDDDDSSSSHHBBBBBHHHHHHHHHHHHBBHHHHHHSDDDDDSSHHHSSSSSDDDDOOOOOOOOOOOOOOOOOOOOOODDDOOOOOOOOOOOODDDSSSSSSSHHBBBBBBHHHHHHHHHHBBHHHHHHSSDDDDSSHHHSSSSSSDDDOOOOOOOOOOOOOOOOOOOOOODOOOOOOOOOOOOOOODDDDSSSSSHHHHBBBGBBHHHHHHHHHHHHHHHHSSSDDDSSSHHHSSSSSSDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDSSHHHHBBBGGBBHHHHHHHHHSSHHHSSSSSSSSSSHHHSSSSSSDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSHHBBBBGBBBHHHHHSSSSSSSSSSSSDDDSSSSSHHSSSSSDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSHHBBBBBBBHHHHHSSSSSSSSSSDDDDDDDSSSSSSSSSDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDSSSHHBBBBBBBHHHHSSDSSSSSSSDDDOOODDDSSSSSSSSSDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDSHHHHHHHHHBBBHHHHSSSDSSSSDDDOOOOOOODDSSSSSSSSSDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDSSSSHHHHSSHHHHSSSSSSDDSDDDOOOOOOOOODDDDSSSSSSSDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDSSSHHSSSSSSSSSSSSSDDDDOOOOOOOOOOOODDDDDDSSSSDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDDSSSDDDSSSSSSSDDDDDDOOOOOOOOOOOOOODDDDDDDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDDDDDDSSSSDDDDDDOOOOOOOOOOOOOODDDDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODOOODDSSDDDDDDOOOOOOOOOOOOOOODDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDDDDDOOOOOOOOOOOOOOODDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDDDOOOOOOOOOOOOOOODDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDDOOOOOOOOOOOOOOOODOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODDDDDDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOODOODDOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO';
}